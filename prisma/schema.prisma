// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

// User 
model User {
  id    String  @id @default(auto()) @map("_id") @db.ObjectId
  email String  @unique
  name  String?
  grows Grow[]
}

// temp grow model
model Grow {
  id       String    @id @default(auto()) @map("_id") @db.ObjectId
  slug     String    @unique
  title    String
  description String?
  startDate String?
  endDate  String?
  strain   String?
  entries Entry[]
  author   User      @relation(fields: [authorId], references: [id])
  authorId String    @db.ObjectId
}

//temp model Entry
model Entry {
  id      String @id @default(auto()) @map("_id") @db.ObjectId
  grow    Grow   @relation(fields: [growId], references: [id])
  growId  String @db.ObjectId
  date    String
  phRes   String?
  phSub   String?
  phRun   String?
  ecRes   String?
  ecSub   String?
  ecRun   String?
  roomTemp  String?
  substrateTemp String?
  humidity  String?
  vpd     String?
  dli     String?
  par     String?
  hoursOfLight  String?
  note String
}